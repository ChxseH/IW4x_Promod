init(){precacheShader("progress_bar_bg");precacheShader("progress_bar_fg");precacheShader("progress_bar_fill");level.uiParent=spawnstruct();level.uiParent.horzAlign="left";level.uiParent.vertAlign="top";level.uiParent.alignX="left";level.uiParent.alignY="top";level.uiParent.x=0;level.uiParent.y=0;level.uiParent.width=0;level.uiParent.height=0;level.uiParent.children=[];level.fontHeight=12;level.hud["allies"]=spawnstruct();level.hud["axis"]=spawnstruct();level.primaryProgressBarY=-61;level.primaryProgressBarX=0;level.primaryProgressBarHeight=9;level.primaryProgressBarWidth=120;level.primaryProgressBarTextY=-75;level.primaryProgressBarTextX=0;level.primaryProgressBarFontSize=.6;level.teamProgressBarY=32;level.teamProgressBarHeight=14;level.teamProgressBarWidth=192;level.teamProgressBarTextY=8;level.teamProgressBarFontSize=1.65;if(level.splitscreen){level.lowerTextYAlign="BOTTOM";level.lowerTextY=-76;level.lowerTextFontSize=1.14;}else{level.lowerTextYAlign="CENTER";level.lowerTextY=165;level.lowerTextFontSize=1.8;}}fontPulseInit(maxFontScale){self.baseFontScale=self.fontScale;if(isDefined(maxFontScale))self.maxFontScale=min(maxFontScale,6.3);else self.maxFontScale=min(self.fontScale*2,6.3);self.inFrames=2;self.outFrames=4;}fontPulse(player){self notify("fontPulse");self endon("fontPulse");self endon("death");player endon("disconnect");player endon("joined_team");player endon("joined_spectators");self ChangeFontScaleOverTime(self.inFrames*0.05);self.fontScale=self.maxFontScale;wait self.inFrames*0.05;self ChangeFontScaleOverTime(self.outFrames*0.05);self.fontScale=self.baseFontScale;}